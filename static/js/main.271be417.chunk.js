(this.webpackJsonpemail_template=this.webpackJsonpemail_template||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(9),s=c.n(i),r=c(25),l={menuList:[{id:1,title:"Compose Email Template"},{id:2,title:"Set Values"},{id:3,title:"Preview & Send"}],bodyEmail:{name:"Body",dirtyText:"",cleanText:""},pageActive:{idActivePage:1},placeholders:[{id:1,title:"Recipients",name:"{recipient}",text:""},{id:2,title:"Subject",name:"{subject}",text:""}],aboutSending:{isSend:!1,status:!1}},o=c(24),u=c(3),b="CLICK_ON_MENU",d="BACK",j="NEXT",m="ADD_PLACEHOLDER",O="CLEAR_PLACEHOLDERS",p="FILL_PLACEHOLDER",h="FILL_BODY_EMAIL",f="FILL_CLEAN_EMAIL_TEXT",_="CREATE_EMAIL",x="CLEAR",v="SEND_EMAIL",g="SENDING_STATUS",E=function(e){return{type:b,value:e}},N=function(){return{type:d}},A=function(){return{type:j}},y=function(e){return{type:m,value:e}},T=function(){return{type:O}},S=function(e,t){return{type:p,id:e,value:t}},C=function(e){return{type:h,value:e}},L=function(){return{type:f}},I=function(){return{type:_}},B=function(e){return{type:v,value:e}},F=function(e){return{type:g,value:e}},k=function(e,t){var c=e?e.match(/{\w+}/g):[];return t.length>2&&c.forEach((function(c){e=e.replace(c,t.find((function(e){return e.name===c})).text)})),e},w=Object(r.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=e.placeholders.length;switch(t.type){case h:return Object(u.a)(Object(u.a)({},e),{},{bodyEmail:Object(u.a)(Object(u.a)({},e.bodyEmail),{},{dirtyText:t.value,cleanText:t.value})});case f:return Object(u.a)(Object(u.a)({},e),{},{bodyEmail:Object(u.a)(Object(u.a)({},e.bodyEmail),{},{cleanText:e.bodyEmail.dirtyText})});case _:return Object(u.a)(Object(u.a)({},e),{},{bodyEmail:Object(u.a)(Object(u.a)({},e.bodyEmail),{},{cleanText:k(e.bodyEmail.cleanText,e.placeholders)})});case m:return Object(u.a)(Object(u.a)({},e),{},{placeholders:[].concat(Object(o.a)(e.placeholders),[{id:c+1,title:"",name:t.value,text:""}])});case O:return Object(u.a)(Object(u.a)({},e),{},{placeholders:[e.placeholders[0],e.placeholders[1]]});case p:return Object(u.a)(Object(u.a)({},e),{},{placeholders:e.placeholders.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{text:t.value}):Object(u.a)({},e)}))});case b:return Object(u.a)(Object(u.a)({},e),{},{pageActive:{idActivePage:t.value}});case d:return Object(u.a)(Object(u.a)({},e),{},{pageActive:{idActivePage:--e.pageActive.idActivePage}});case j:return Object(u.a)(Object(u.a)({},e),{},{pageActive:{idActivePage:++e.pageActive.idActivePage}});case x:return l;case v:return Object(u.a)(Object(u.a)({},e),{},{aboutSending:Object(u.a)(Object(u.a)({},e.aboutSending),{},{isSend:t.value})});case g:return Object(u.a)(Object(u.a)({},e),{},{aboutSending:Object(u.a)(Object(u.a)({},e.aboutSending),{},{status:!1})});default:return e}}),l),P=c(2),D=(c(36),c(37),c(0));function R(){return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("header",{className:"header",children:Object(D.jsxs)("section",{className:"header__logo",role:"navigation",children:[Object(D.jsxs)("a",{className:"header__link",href:"#home_page",children:[Object(D.jsx)("div",{className:"header__logo-part1"}),Object(D.jsx)("div",{className:"header__logo-part2"})]}),Object(D.jsx)("h1",{className:"header__title",children:"Email Templater"})]})})})}c(39);var K=c(5),M=c.n(K);c(40);function V(){var e=Object(P.c)((function(e){return e.pageActive.idActivePage})),t=Object(P.c)((function(e){return e.menuList})),c=Object(P.b)();return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("section",{className:"menu",children:Object(D.jsx)("ul",{className:"menu__list",children:t.map((function(t){return Object(D.jsxs)("li",{onClick:function(e){return c(E(+e.currentTarget.id))},className:"menu__item",id:t.id,children:[Object(D.jsx)("div",{className:M()({menu__counter:!0,"menu__counter-active":t.id===e}),children:Object(D.jsx)("span",{className:"menu__counter-text",children:t.id})}),Object(D.jsx)("p",{className:M()({"menu__item-title":!0,"menu__item-active":t.id===e}),children:t.title})]},t.id)}))})})})}var H=c(13),X=c(23),J=c.n(X);c(59);function U(e){var t=e.buttonName,c=e.isChangeEmailBody,n=e.setIsChangeEmailBody,a=Object(P.b)(),i=Object(P.c)((function(e){return e.bodyEmail.dirtyText})),s=Object(P.c)((function(e){return e.placeholders[1].text})),r=Object(P.c)((function(e){return e.bodyEmail.cleanText}));return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("button",{onClick:function(e){return function(e){if("BACK"===e&&a(N()),"BACK"!==e&&"SEND"!==e&&(a(A()),a(L()),a(I())),"SET VARIABLES"===e&&c){var t=[];i.match(/{\w+}/g).forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t.forEach((function(e){"{subject}"!==e&&a(y(e))})),n(!1)}"SEND"===e&&J.a.post("https://mock.at.leanylabs.com/email",{to:"hr@leanylabs.com",subject:s,body:r}).then((function(e){console.log(e),setTimeout((function(){console.log("This will run after 5 second!"),a(F(!0)),a(B(!0))}),0)})).catch((function(e){console.log(e),console.log("not send"),setTimeout((function(){console.log("This will run after 5 second!"),a(B(!0))}),0)}))}(e.target.innerText)},className:M()({button:!0,"button--gray":"BACK"===t}),type:"button",children:t})})}c(60);function G(){var e=Object(n.useState)(!1),t=Object(H.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),s=Object(H.a)(i,2),r=s[0],l=s[1],o=Object(P.c)((function(e){return e.pageActive.idActivePage})),u=Object(P.c)((function(e){return e.bodyEmail.dirtyText})),b=Object(P.c)((function(e){return e.bodyEmail.cleanText})),d=Object(P.b)(),j=function(e){d(S(+e.target.id,e.target.value))};return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:M()({composeEmail:1===o,"composeEmail-prev":3===o}),children:[Object(D.jsx)("h2",{className:M()({"composeEmail__title-email":1===o,"composeEmail__title-prev":3===o}),children:1===o?"Compose Email Template":"Preview and Send"}),Object(D.jsxs)("form",{className:"composeEmail__form",children:[Object(D.jsx)("label",{className:"composeEmail__label composeEmail__label-recipients",htmlFor:Object(P.c)((function(e){return e.placeholders[0].id})),children:Object(P.c)((function(e){return e.placeholders[0].title}))}),Object(D.jsx)("input",{onChange:function(e){return j(e)},value:Object(P.c)((function(e){return e.placeholders[0].text})),className:"composeEmail__input composeEmail__input-recipients",id:Object(P.c)((function(e){return e.placeholders[0].id}))}),Object(D.jsx)("label",{className:"composeEmail__label composeEmail__label-subject",htmlFor:Object(P.c)((function(e){return e.placeholders[1].id})),children:Object(P.c)((function(e){return e.placeholders[1].title}))}),Object(D.jsx)("input",{onChange:function(e){return j(e)},value:Object(P.c)((function(e){return e.placeholders[1].text})),className:"composeEmail__input composeEmail__input-subject",id:Object(P.c)((function(e){return e.placeholders[1].id}))}),Object(D.jsx)("label",{className:"composeEmail__label composeEmail__label-body",htmlFor:"body",children:Object(P.c)((function(e){return e.bodyEmail.name}))}),Object(D.jsx)("textarea",{onChange:function(e){return function(e){a(!0),d(T());var t=e.charAt(e.length-1),c=t.charCodeAt(0)>=65&&t.charCodeAt(0)<=90||t.charCodeAt(0)>=97&&t.charCodeAt(0)<=122;!r&&d(C(e)),"{"===t&&l(t),"}"===t&&r.length>1&&(d(C(e)),l("")),r&&c&&(d(C(e)),l(r+t))}(e.target.value)},value:1===o?u:b,className:"composeEmail__input composeEmail__input-body",id:"body"}),Object(D.jsx)("div",{role:"button",className:M()({button__wrap:!0,"button__wrap-2":3===o}),children:1===o?Object(D.jsx)(U,{buttonName:"SET VARIABLES",selectedId:o,isChangeEmailBody:c,setIsChangeEmailBody:a}):Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(U,{buttonName:"BACK",selectedId:o}),Object(D.jsx)(U,{buttonName:"SEND",selectedId:o})]})})]})]})})}c(61);function Y(e){var t=e.selectedId,c=e.pressButton,n=Object(P.c)((function(e){return e.placeholders})),a=Object(P.b)();return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("section",{className:"inputsTemplate",children:[Object(D.jsx)("h2",{className:"inputsTemplate__title",children:"Set Values"}),Object(D.jsx)("div",{className:"inputsTemplate--wrap",children:n.map((function(e){return Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{className:"inputsTemplate__label",htmlFor:e.id,children:e.name}),Object(D.jsx)("input",{onChange:function(e){return function(e){a(S(+e.target.id,e.target.value))}(e)},value:e.text,className:"inputsTemplate__input",data:e.name,id:e.id})]},e.id)}))}),Object(D.jsxs)("div",{role:"button",className:"button__wrap button__wrap-2",children:[Object(D.jsx)(U,{buttonName:"BACK",selectedId:t,pressButton:c}),Object(D.jsx)(U,{buttonName:"NEXT",selectedId:t,pressButton:c})]})]})})}c(62);function q(){var e=Object(P.c)((function(e){return e.pageActive.idActivePage}));return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"templates",children:[2!==e&&Object(D.jsx)(G,{}),2===e&&Object(D.jsx)(Y,{idActivePage:e})]})})}c(63);function z(e){var t=e.isSend,c=e.status,n=Object(P.b)();return console.log("feedback: ",c),console.log("feedbackState: ",Object(P.c)((function(e){return e.aboutSending.status}))),Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:M()({feedback:!0,"feedback--visible":t}),children:[Object(D.jsx)("div",{className:M()({feedback__status:!0,"feedback__status--good":c,"feedback__status--bed":!c})}),Object(D.jsx)("p",{className:"feedback__text",children:c?"Email sent successfully!":"Failed to send email!"}),Object(D.jsx)("div",{onClick:function(){return n(B(!1))},className:"feedback__cross"})]})})}function Q(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.aboutSending.isSend})),c=Object(P.c)((function(e){return e.aboutSending.status}));return Object(n.useEffect)((function(){var t=setTimeout((function(){console.log("This will run after 5 second!"),e(B(!1))}),5e3);return function(){return clearTimeout(t)}}),[t]),Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("main",{className:"main",children:[Object(D.jsx)(V,{}),Object(D.jsx)(q,{}),Object(D.jsx)(z,{isSend:t,status:c})]})})}var W=function(){return Object(D.jsxs)("div",{className:"App",id:"home_page",children:[Object(D.jsx)(R,{}),Object(D.jsx)(Q,{})]})};c(64);s.a.render(Object(D.jsx)(P.a,{store:w,children:Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(W,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.271be417.chunk.js.map